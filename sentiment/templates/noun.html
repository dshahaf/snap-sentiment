{% extends "base.html" %}

{% block title %}Noun Analysis{% endblock %}

{% block navbar_noun %}<li class="active"><a href="/noun">Noun</a></li>{% endblock %}

{% block main-title %}Noun Analysis{% endblock %}

{% block main-description %}
<p>We inspect the sentiment for the nouns in the text.</p>
{% endblock %}

{% block main-content %}

	<div class="row">
		<div class="span6">
			<div class="text-center"><h4>Input</h4></div>
			<form action="/noun/" method="POST">
				{% csrf_token %}
				<textarea class="textarea-full textarea" rows="20" name="textarea">{{ text }}</textarea>
				<div class="muted" style="margin-bottom: 0px; font-size: 13px;">
					(Text Processing: Convert to lowercase)
				</div>
				<input type="submit" value="Go" class="btn btn-success btn-large offset2" style="margin-top: 5px;"/>
			</form>
		</div>

		<div class="span6">
			<div class="text-center"><h4>Output</h4></div>
				{% if result %}
				<div class="result">

					<!-- SECTION 1: Processed, color-coded text -->
					{% if result.sentences|length > 0 %}
					<div class="section words" >
						<div class="section-header">
							<span class="section-title">Processed Text</span>
						</div>
						{% for sentence in result.sentences %}
							<div class="div-sentence">
							{% if sentence.sentiment|stringformat:"s" == "positive" %}
							<span class="background-verylightgreen">
							{% else %}
								{% if sentence.sentiment|stringformat:"s" == "negative" %}
								<span class="background-verylightred">
								{% else %}
									<span>
								{% endif %}
							{% endif %}
							{% for word in sentence.words %}
								<span style='
									{% if word.sentiment|stringformat:"s" == "positive" %}
										color:green; font-weight:bold;
									{% endif %}
									{% if word.sentiment|stringformat:"s" == "negative" %}
										color:red; font-weight:bold;
									{% endif %}								
									{% if word.isNoun|stringformat:"s" == "true" %}
										text-decoration: underline;
									{% endif %}	
								'>{{ word.value }}</span>
							{% endfor %}
							</span><br/>
							</div>
						{% endfor %}
					</div>
					{% endif %}

				</div>
				{% endif %}
		</div>
	</div>

{% endblock %}
{% extends "base.html" %}

{% block title %}Word{% endblock %}

{% block navbar_word %}<li class="active"><a href="/simple">Simple</a></li>{% endblock %}

{% block main-title %}
	Simple Analysis
{% endblock %}

{% block main-description %}
	<p>Sentiment is determined based on the number of positive and negative words that are present (<a href="http://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html" target="_blank">Source of positive/negative words</a>).</p>
	<p class="font-small">(Citation: Minqing Hu and Bing Liu. "Mining and Summarizing Customer Reviews." Proceedings of the ACM SIGKDD International Conference on Knowledge, Discovery and Data Mining (KDD-2004), Aug 22-25, 2004, Seattle, Washington, USA)</p>
{% endblock %}

{% block main-content %}
	<div class="row">
		<div class="span6">
			<div class="text-center"><h4>Input</h4></div>
			<form action="/simple/" method="POST">
				{% csrf_token %}
				<textarea class="textarea-full textarea" rows="20" name="textarea">{{ text }}</textarea>
				<div class="muted" style="margin-bottom: 0px; font-size: 13px;">
					(Text Processing: Convert to lowercase, Consider alphabet words only)
				</div>
<!-- 				<input type="checkbox" name="checkbox-remove-stop-words" value="stop_words" class="checkbox" {{ setup.remove_stop_words_value }}> Remove stop words<br /> -->
<!-- 				<input type="checkbox" name="options" value="stem" class="checkbox"> Perform stemming<br />
 -->				<input type="submit" value="Go" class="btn btn-success btn-large offset2" style="margin-top: 5px;"/>
			</form>
		</div>

		<div class="span6">
			<div class="text-center"><h4>Output</h4></div>
			{% if result %}
				<div class="result">
					<!-- SECTION 1: Overall sentiment -->
					<div class="section overall-sentiment">
						<div class="section-header">
							<span class="section-title">
								Overall Sentiment
							</span>
						</div>
						{% if result.overall_sentiment|stringformat:"s" == "Positive"  %}
							<span class="sentiment-positive font-bold">Positive</span>
						{% else %}
							{% if result.overall_sentiment|stringformat:"s" == "Negative"  %}
								<span class="sentiment-negative font-bold">Negative</span>
							{% else %}
								<span class="font-bold">Neither</span>
							{% endif %}
						{% endif %}
					</div>

					<!-- SECTION 2: Processed, color-coded text -->
					{% if result.words|length > 0 %}
					<div class="section words" >
						<div class="section-header">
							<span class="section-title">Processed Text</span>
						</div>
						{% for word in result.words %}
							{% if word.sentiment|stringformat:"s" == "positive"  %}
								<span class="sentiment-positive font-bold">{{ word.value }}</span>
							{% else %}
								{% if word.sentiment|stringformat:"s" == "negative"  %}
									<span class="sentiment-negative font-bold">{{ word.value }}</span>
								{% else %}
									<span class="muted">{{ word.value }}</span>
								{% endif %}
							{% endif %}
						{% endfor %}
					</div>
					{% endif %}

					<!-- SECTION 3: Statistics -->
					<div class="section">
						<div class="section-header" style="margin-bottom: 3px;">
							<span class="section-title">Statistics</span>
						</div>

						<div class="section positive-words">
							<div class="subsection-header">
								<span class="section-title">Positive Word Counts ({{ result.sentimental_words.count.positive }})</span>
							</div>
							{% for word in result.sentimental_words.positive %}
								<div class="muted"><span class="color-light-green">{{ word.value }}</span> : <span>{{ word.count }}</span></div>
							{% endfor %}
						</div>

						<!-- SECTION 4: Negative Word Counts -->
						<div class="section negative-words">
							<div class="subsection-header">
								<span class="section-title">Negative Word Counts ({{ result.sentimental_words.count.negative }})</span>
							</div>
							{% for word in result.sentimental_words.negative %}
								<div class="muted"><span class="color-light-red">{{ word.value }}</span> : <span>{{ word.count }}</span></div>
							{% endfor %}
						</div>
					</div>

				</div>
			{% endif %}
		</div>
	</div>
{% endblock %}